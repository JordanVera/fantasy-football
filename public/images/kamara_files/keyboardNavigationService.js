define("modules/services/carousel/keyboardNavigationService",["jquery"],function(t){var e=function(e,i){i||(i="a");var a=!1;e.on("refreshed.owl.carousel",function(e){if(e.namespace){var o=t(this),n=o.find(".owl-stage-outer");n.off("keydown").on("keydown",function(e){if(27===e.which&&n.data("focus-active",!1),13===e.which){n.data("focus-active",!0);var o=t(e.target),s=o.is(".owl-carousel")?o:o.parents(".owl-carousel"),r=s.data("owl.carousel"),c=r&&r.settings?r.settings.items:void 0;c=c||(r&&r.options?r.options.items:1);var l=t(document.activeElement);if(1===c&&!l.is("button")){return n.find(".owl-item.active "+i).first().focus(),e.preventDefault(),void e.stopPropagation()}}a=n.data("focus-active"),37!==e.which&&39!==e.which&&9===e.which&&a&&e.preventDefault(),a||n.find(".owl-item "+i).each(function(){t(this).attr("tabindex","-1")})});var s=function(e,a,o,n){if(1===o)e.next(),a.data("direction","next");else{if(n)return void a.find(".owl-stage-outer").data("focus-active",!1);var s=t(document.activeElement),r=a.find(".owl-item"),c=r.index(s.parents(".owl-item")),l=c+1,f=r.length-1===l,d=s.parents(".owl-item").next(".active"),u=!1;if(d.length<=0&&(l%o==0||!f)&&(u=!0),u)a.data("direction","next"),e.next();else{var v=r.eq(l);v.has(i).length>0&&v.find(i).focus()}}},r=function(e,a,o,n){if(1===o)e.prev(),a.data("direction","prev");else{if(n)return;var s=t(document.activeElement),r=a.find(".owl-item"),c=r.index(s.parents(".owl-item")),l=c-1,f=s.parents(".owl-item").prev(".active"),d=!1;f.length<=0&&(d=!0),d&&(a.data("direction","prev"),e.prev());var u=r.eq(l);u.has(i).length>0?u.find(i).focus():e.prev()}};n.off("keyup").on("keyup",function(e){if(9===e.which||37===e.which||39===e.which){var a=t(e.target),o=e.shiftKey,n=a.parents(".owl-carousel"),c=n.data("owl.carousel"),l=n.attr("data-cycle")&&"true"===n.attr("data-cycle").toLowerCase(),f=c&&c.settings?c.settings.items:void 0;f=f||(c&&c.options?c.options.items:1);var d=t(document.activeElement),u=n.find(".owl-item.active").first();f>1&&o&&(u=n.find(".owl-item.active").last());var v,w=c.items().length,p=n.find(".owl-item").index(d.is(i)?d.parents(".owl-item"):u),m=0===p,h=p===w-1;if(n.find(".owl-stage-outer").data("focus-active")){switch(n.trigger("stop.owl.autoplay"),e.which){case 9:if(o){if(m)return n.find(".owl-stage-outer").focus(),void n.find(".owl-stage-outer").data("focus-active",!1);v="prev"}else if(m&&d.is(i))v="next";else if(m&&!d.is(i)){var g=n.find(".owl-item").first();if(!(g.has(i).length>0))return void n.find(".owl-nav button").first().focus();g.find(i).focus()}else{if(h&&!l)return n.find(".owl-nav button").first().focus(),void n.find(".owl-stage-outer").data("focus-active",!1);v="next"}break;case 37:v=m?void 0:"prev";break;case 39:v=h?void 0:"next"}"prev"===v&&r(c,n,f,m),"next"===v&&s(c,n,f,h)}}})}}),e.on("translate.owl.carousel",function(e){if(e.namespace){var i=t(e.target),a=i.is(".owl-carousel")?i:i.parents(".owl-carousel"),o=a.data("owl.carousel"),n=t(document.activeElement),s=o&&o.settings?o.settings.items:void 0;s=s||(o&&o.options?o.options.items:1),(n.is(".nfl-c-photo-album__next")||n.is(".nfl-c-photo-album__prev")||n.is(".owl-next")||n.is(".owl-prev"))&&a.data("navigation-click",!0)}}),e.on("translated.owl.carousel",function(e){if(e.namespace){var a=t(e.target),o=a.is(".owl-carousel")?a:a.parents(".owl-carousel"),n=o.find(".owl-stage-outer"),s=o.data("owl.carousel"),r=s&&s.settings?s.settings.items:void 0;r=r||(s&&s.options?s.options.items:1),n.data("focus-active")&&("next"!==o.data("direction")||o.data("navigation-click")||o.find(".owl-item.active").first().find(i).focus(),"prev"!==o.data("direction")||o.data("navigation-click")||o.find(".owl-item.active "+i).focus(),o.data("navigation-click",!1))}})};return function(){return{init:function(t,i){e(t,i)}}}()});
//# sourceMappingURL=keyboardNavigationService.js.map